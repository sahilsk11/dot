{"version":3,"sources":["App.js","index.js"],"names":["App","className","dots","React","Component","DotMap","props","state","lastClicked","dotsVisible","clicked","bind","index","this","setState","ctx","document","getElementById","getContext","beginPath","rotation","Math","PI","arc","strokeStyle","lineWidth","stroke","clearRect","mojs","Burst","radius","0","count","children","shape","points","fill","angle","360","duration","delay","tune","x","y","replay","elements","i","push","id","width","height","alt","onClick","reset","src","MusicController","pause","audio","Audio","play","togglePause","Dot","burst","left","top","4","scale","strokeDasharray","strokeDashoffset","easing","style","transform","toString","addEventListener","e","pageX","pageY","getImage","ReactDOM","render"],"mappings":"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","file":"static/js/main.7fad7a5c.chunk.js","sourcesContent":["import React from 'react';\nimport mojs from '@mojs/core'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"content\">\n        <h3 className=\"title\">click the dots to connect them</h3>\n        <DotMap dots={15} />\n      </div>\n    )\n  }\n}\n\nclass DotMap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { lastClicked: 0, dotsVisible: 2 };\n    this.clicked = this.clicked.bind(this);\n  }\n\n  clicked(index) {\n    if (this.state.lastClicked == null) {\n      this.setState({ lastClicked: index });\n    } else {\n      if (this.state.lastClicked === 14 && index === 0) {\n        this.setState({ lastClicked: null, dotsVisible: 17 });\n      } else if (this.state.lastClicked + 1 === index) {\n        this.setState({ lastClicked: index, dotsVisible: index + 2 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    var c = document.getElementById(\"drawing-board\");\n    var ctx = c.getContext(\"2d\");\n    if (this.state.dotsVisible > 2) {\n      ctx.beginPath();\n      var rotation = (24 * (this.state.dotsVisible - 2)) * Math.PI / 180 - Math.PI / 2;\n      ctx.arc(250, 246, 222, - Math.PI / 2, rotation);\n      ctx.strokeStyle = \"#FFFFFF\";\n      ctx.lineWidth = 5;\n      ctx.stroke();\n    } else {\n      ctx.clearRect(0, 0, 500, 500);\n    }\n    if (this.state.dotsVisible === 17) {\n      const burst = new mojs.Burst({\n        radius: { 0: 100 },\n        count: 15,\n        children: {\n          shape: 'polygon',\n          points: 5,\n          fill: { 'cyan': 'yellow' },\n          angle: { 360: 0 },\n          duration: 2000,\n          delay: 'stagger(0, 100)'\n        }\n      });\n      burst\n        .tune({ x: -7, y: -10 })\n        .replay();\n\n    }\n  }\n\n  reset() {\n    this.setState({ lastClicked: 0, dotsVisible: 2 });\n  }\n\n  render() {\n    var elements = [];\n    for (var i = 0; i < this.state.dotsVisible && i < this.props.dots; i++) {\n      elements.push(<Dot index={i} clicked={this.clicked} />);\n    }\n    return (\n      <div className=\"circle\">\n        <canvas id=\"drawing-board\" width=\"500px\" height=\"500px\">\n        </canvas>\n        <div className=\"overlay\">\n          {elements}\n        </div>\n        <MusicController />\n        <img alt=\"\" className=\"reload\" onClick={() => { this.reset() }} src=\"img/reload.png\" />\n      </div>\n    );\n  }\n}\n\nclass MusicController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { pause: true, audio: new Audio('music/circleoflife.mp3') }\n  }\n\n  togglePause() {\n    if (this.state.pause) {\n      this.state.audio.play();\n      this.setState({ pause: false });\n    } else {\n      this.state.audio.pause();\n      this.setState({ pause: true });\n    }\n  }\n  render() {\n    if (this.state.pause) {\n      return (<img alt=\"\" src=\"img/mute.png\" onClick={() => this.togglePause()} className=\"music-controller\" />);\n    } else {\n      return (<img alt=\"\" src=\"img/volume.png\" onClick={() => this.togglePause()} className=\"music-controller\" />);\n    }\n  }\n}\n\nclass Dot extends React.Component {\n  componentDidMount() {\n    const burst = new mojs.Burst({\n      left: 0, top: 0,\n      radius: { 4: 19 },\n      angle: 45,\n      children: {\n        shape: 'line',\n        radius: 6,\n        scale: 1,\n        stroke: '#FD7932',\n        strokeDasharray: '100%',\n        strokeDashoffset: { '-100%': '100%' },\n        duration: 500,\n        easing: 'quad.out',\n      }\n    });\n    document.getElementById(this.props.index).style.transform = \"rotate(\" + 24 * (this.props.index) + \"deg)\";\n    document.getElementById(\"label-\" + this.props.index.toString()).style.transform = \"rotate(-\" + 24 * (this.props.index) + \"deg)\";\n    document.getElementById(\"dot-\" + this.props.index).addEventListener('click', function (e) {\n      burst\n        .tune({ x: e.pageX, y: e.pageY })\n        .replay();\n    });\n  }\n\n  getImage() {\n    return \"img/dot.png\"\n  }\n\n  render() {\n    return (\n      <div className=\"dot-wrapper\" id={this.props.index}>\n        <div onClick={() => this.props.clicked(this.props.index)} className=\"dot\" id={\"dot-\" + this.props.index}>\n          <p id={\"label-\" + this.props.index.toString()} className=\"label\">{this.props.index + 1}</p>\n          <img alt=\"\" id={\"image-\" + this.props.index.toString()} src={this.getImage(this.props.index)} className=\"dot-image\" />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}